---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Card from '../../components/Card.astro';
import { getCollection } from 'astro:content';

const ideas = (await getCollection('ideas'))
  .filter(entry => !entry.data.draft)
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const baseUrl = import.meta.env.BASE_URL;
---

<BaseLayout
  title="Ideas"
  description="アイデアと構想 - 未来を創る発想とコンセプト"
>
  <div class="mb-12">
    <h1 class="text-4xl md:text-5xl font-bold mb-4 flex items-center gap-3">
      <span>💭</span>
      <span>Ideas</span>
    </h1>
    <p class="text-xl text-gray-600">
      新しいアイデアや構想を形にしていきます
    </p>
  </div>

  {ideas.length > 0 ? (
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {ideas.map((entry) => (
        <Card
          title={entry.data.title}
          description={entry.data.description}
          url={`${baseUrl}ideas/${entry.slug}/`}
          pubDate={entry.data.pubDate}
          tags={entry.data.tags}
          category={entry.data.category}
        />
      ))}
    </div>
  ) : (
    <div class="text-center py-16 bg-white rounded-lg shadow">
      <div class="text-6xl mb-4">🌱</div>
      <h3 class="text-2xl font-bold mb-4">まだIdeasがありません</h3>
      <p class="text-gray-600">
        最初のIdeasを追加して、ガーデンを育て始めましょう
      </p>
    </div>
  )}
</BaseLayout>
